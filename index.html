<!DOCTYPE html>
<html lang="zh-CN" class="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Matcha 令牌</title>
  <link rel="icon" type="image/svg+xml" href="/icon.svg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            display: ['Manrope', 'sans-serif'],
          },
          animation: {
            'scan': 'scan 2.5s linear infinite',
          },
          colors: {
            primary: 'var(--md-sys-color-primary)',
            'on-primary': 'var(--md-sys-color-on-primary)',
            'primary-container': 'var(--md-sys-color-primary-container)',
            'on-primary-container': 'var(--md-sys-color-on-primary-container)',
            secondary: 'var(--md-sys-color-secondary)',
            'on-secondary': 'var(--md-sys-color-on-secondary)',
            'secondary-container': 'var(--md-sys-color-secondary-container)',
            'on-secondary-container': 'var(--md-sys-color-on-secondary-container)',
            tertiary: 'var(--md-sys-color-tertiary)',
            'tertiary-container': 'var(--md-sys-color-tertiary-container)',
            background: 'var(--md-sys-color-background)',
            'on-background': 'var(--md-sys-color-on-background)',
            surface: 'var(--md-sys-color-surface)',
            'on-surface': 'var(--md-sys-color-on-surface)',
            'surface-container': 'var(--md-sys-color-surface-container)',
            'surface-container-high': 'var(--md-sys-color-surface-container-high)',
            'surface-variant': 'var(--md-sys-color-surface-variant)',
            'on-surface-variant': 'var(--md-sys-color-on-surface-variant)',
            outline: 'var(--md-sys-color-outline)',
          },
          borderRadius: {
            '3xl': '1.75rem',
            '4xl': '2.25rem',
          }
        }
      }
    }
  </script>
  <style>
    /* Base CSS Variables - Default "Matcha" Theme */
    :root {
      --md-sys-color-primary: #879A6C;
      --md-sys-color-on-primary: #FFFFFF;
      --md-sys-color-primary-container: #EBF0E3;
      --md-sys-color-on-primary-container: #343E2B;

      --md-sys-color-secondary: #77806B;
      --md-sys-color-on-secondary: #FFFFFF;
      --md-sys-color-secondary-container: #E3E9DB;
      --md-sys-color-on-secondary-container: #32382A;

      --md-sys-color-tertiary: #6A7B6A;
      --md-sys-color-tertiary-container: #DAE2D9;

      --md-sys-color-background: #FDFCF8;
      --md-sys-color-on-background: #1B1C19;

      --md-sys-color-surface: #FDFCF8;
      --md-sys-color-on-surface: #1B1C19;

      --md-sys-color-surface-container: #F4F6F1;
      --md-sys-color-surface-container-high: #EEF1EB;

      --md-sys-color-surface-variant: #E2E5DE;
      --md-sys-color-on-surface-variant: #565B50;

      --md-sys-color-outline: #8C9187;
    }

    .dark {
      --md-sys-color-primary: #96A979;
      --md-sys-color-on-primary: #1F2618;
      --md-sys-color-primary-container: #39442E;
      --md-sys-color-on-primary-container: #E0E8D5;

      --md-sys-color-secondary: #C4CBB9;
      --md-sys-color-on-secondary: #2D3328;
      --md-sys-color-secondary-container: #444B3F;
      --md-sys-color-on-secondary-container: #E0E6D8;

      --md-sys-color-tertiary: #A8BCA0;
      --md-sys-color-tertiary-container: #2B3824;

      --md-sys-color-background: #141613;
      --md-sys-color-on-background: #E5E7E2;

      --md-sys-color-surface: #141613;
      --md-sys-color-on-surface: #E5E7E2;

      --md-sys-color-surface-container: #1F221E;
      --md-sys-color-surface-container-high: #292C28;

      --md-sys-color-surface-variant: #464942;
      --md-sys-color-on-surface-variant: #C6CAC3;

      --md-sys-color-outline: #91968C;
    }

    body {
      -webkit-tap-highlight-color: transparent;
      overscroll-behavior-y: none;
    }

    /* Hide Scrollbar */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    /* Scan Animation - Optimized with Transform */
    @keyframes scan {
      0% { transform: translateY(0%); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(350px); opacity: 0; } /* Adjust distance based on box height approx */
    }

    /* Custom Range Slider */
    input[type=range] {
      -webkit-appearance: none;
      width: 100%;
      background: transparent;
    }
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      height: 20px;
      width: 20px;
      border-radius: 50%;
      background: #ffffff;
      box-shadow: 0 1px 4px rgba(0,0,0,0.3);
      cursor: pointer;
      margin-top: -8px;
      border: 1px solid rgba(0,0,0,0.1);
    }
    input[type=range]::-webkit-slider-runnable-track {
      width: 100%;
      height: 4px;
      cursor: pointer;
      background: transparent;
      border-radius: 2px;
    }

    /* Smooth transitions for theme changes */
    * {
      transition-property: background-color, border-color, color, fill, stroke;
      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      transition-duration: 200ms;
    }
  </style>
  <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@^19.2.3",
        "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
        "react/": "https://esm.sh/react@^19.2.3/",
        "@capacitor/app": "https://esm.sh/@capacitor/app@^8.0.0",
        "url": "https://esm.sh/url@^0.11.4",
        "path": "https://esm.sh/path@^0.12.7",
        "fs": "https://esm.sh/fs@^0.0.1-security",
        "qrcode": "https://esm.sh/qrcode@^1.5.4",
        "html5-qrcode": "https://esm.sh/html5-qrcode@^2.3.8",
        "jsqr": "https://esm.sh/jsqr@1.4.0",
        "otpauth": "https://esm.sh/otpauth@^9.4.1",
        "@capacitor/core": "https://esm.sh/@capacitor/core@^8.0.1",
        "@capacitor/camera": "https://esm.sh/@capacitor/camera@^8.0.0"
      }
    }
  </script>
</head>
<body class="bg-background text-on-background font-display antialiased selection:bg-primary-container selection:text-primary">
<div id="root"></div>
<!-- 关键修复：添加入口脚本，否则 React 不会启动 -->
<script type="module" src="/index.tsx"></script>
</body>
</html>